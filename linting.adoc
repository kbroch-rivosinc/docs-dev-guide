== Linting

The linting of code/documentation can be categorized as dealing with formatting, syntax, or semantics.  Once the rules for a given project are defined, many of these rules can be checked automatically with tooling.

=== Tooling

==== Pre-commit

link:https://pre-commit.com/[pre-commit tool] is a very useful, open source, well maintained, and popular tool/framework to help automate linting checks in general.  It provides some of the following key features:

* link:https://pre-commit.com/hooks.html[a great number of support hooks for linting]
** including direct support by many of the maintainers of best in class linters (ex: link:https://github.com/psf/black[python linter black])
** https://github.com/search?q=path%3A**%2F.pre-commit-hooks.yaml&type=code&ref=advsearch[over 3000 github repos with pre-commit support]
** link:https://pre-commit.com/index.html#plugins[hook plugins] allow adding these and versioning to control updates
* support for link:https://pre-commit.com/index.html#new-hooks[creating new custom hooks easily]
* can be run before `git commit` (i.e. "pre-commit") so authors can detect and fix problems sooner in the workflow
* can also be run in link:https://pre-commit.com/index.html#github-actions-example[continuous integration (CI)] to enforce checks are run for every pull request

==== URL Link checkers

Source code link checking would be ideal (example for https://github.com/tcort/markdown-link-check[markdown]), but AsciiDoc version isn't available and in general there are more tools for checking the rendered outputs:

* PDF
** https://github.com/pstoeckle/pdf-link-checker[pdf-link-checker]
* HTML
** https://github.com/lycheeverse/lychee/blob/master/README.md#features[feature list of many OSS link checkers]
** https://github.com/lycheeverse/lychee/[lychee (Rust)]
*** https://github.com/lycheeverse/lychee/issues/291[AsciiDoc support Github issue]
*** https://github.com/lycheeverse/lychee-action[Github action to check website links daily]
** https://github.com/raviqqe/muffet[muffet (Go)]
** `wget` ex: `wget -nv --spider --force-html -i build/spec-sample.html `
** https://github.com/stevenvachon/broken-link-checker[broken-link-checker (JS)]

This could still be deployed in CI to run after the outputs are generated.

==== Vale

https://vale.sh/[Vale] is a command line tool to lint editorial style guide rules that supports AsciiDoc (https://vale.sh/docs/topics/scoping/#asciidoc[support details]).

===== False-positives

Many Vale rules are heuristic (regex) and therefore false-positives can occur.  Possible solutions:

* Fix rule
* https://vale.sh/docs/topics/config/#asciidoc[tell Vale to ignore the false-positive]
* Set the rule as a warning only and have authors review failures manually
* Disable rule if too many false-positives occur
